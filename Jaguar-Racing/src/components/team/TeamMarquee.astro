---
import { Image } from 'astro:assets';
import '../../styles/team/credencialesEquipo.css';

// Cargamos todas las imágenes de la carpeta assets/Equipo
const teamImages = await Astro.glob('../../assets/Equipo/*.{jpg,JPG,jpeg,JPEG,png,PNG,webp,WEBP}');
---

<section class="team-marquee-section">
    <div class="team-marquee-wrapper">
        <div class="team-marquee-track">
            {/* Renderizamos DOS veces las imágenes para loop infinito sin espacios vacíos */}
            {[...teamImages, ...teamImages].map((img, index) => (
                <div class="marquee-card">
                    <Image 
                        src={img.default} 
                        alt={`Momento Jaguar Racing ${index}`} 
                        class="marquee-img"
                        width={400} 
                        height={280}
                        widths={[200, 400]}
                        sizes="(max-width: 768px) 200px, 400px"
                        quality={60} 
                        format="webp"
                        loading="lazy"
                        decoding="async"
                    />
                </div>
            ))}
        </div>
    </div>
</section>