/* -----------------------------------------------------------------------------
   1. ANIMACIÓN BASE (Utilidad General)
   ----------------------------------------------------------------------------- */
/* Se mantiene igual, es tu utilidad core para el IntersectionObserver en JS */
.scroll-animate {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    will-change: opacity, transform; /* Optimización de renderizado */
}

.scroll-animate.is-visible {
    opacity: 1;
    transform: translateY(0);
}

/* -----------------------------------------------------------------------------
   2. HERO SECTION (Carga inicial)
   ----------------------------------------------------------------------------- */
/* El título debe animarse al cargar, no al hacer scroll */
.hero-internal__title {
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards; /* forwards mantiene el estado final */
    animation-delay: 0.2s;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* -----------------------------------------------------------------------------
   3. ORÍGENES (Origins.astro)
   ----------------------------------------------------------------------------- */
/* El contenedor .origins-section ya tiene .scroll-animate. 
   Aquí refinamos los hijos para que no aparezcan planos. */

.origins-text, 
.origins-logo {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

/* Cuando la sección es visible, disparamos los hijos con retraso */
.origins-section.is-visible .origins-text:nth-of-type(1) {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.2s;
}

.origins-section.is-visible .origins-text:nth-of-type(2) {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.3s;
}

.origins-section.is-visible .origins-logo {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.4s;
}

.origins-section.is-visible .origins-text:nth-of-type(3) {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.5s;
}

/* -----------------------------------------------------------------------------
   4. ROSTER DE MIEMBROS (Roster.astro)
   ----------------------------------------------------------------------------- */
/* Cada .roster-category tiene .scroll-animate.
   Queremos que las tarjetas (.roster-card) entren en cascada (stagger effect). */

.roster-card {
    opacity: 0;
    transform: translateY(20px);
    transition: transform 0.4s ease-out, opacity 0.4s ease-out;
}

/* Estado hover para interactividad (ya tenías algo, lo reforzamos) */
.roster-card:hover .roster-img {
    transform: scale(1.05);
    transition: transform 0.3s ease;
}

/* Lógica de Cascada (Staggering) cuando la categoría es visible */
.roster-category.is-visible .roster-card {
    opacity: 1;
    transform: translateY(0);
}

/* Retrasos secuenciales para las primeras 8 tarjetas.
   Si tienes filas de 3 o 4, esto se ve muy bien. */
.roster-category.is-visible .roster-card:nth-child(1) { transition-delay: 0.1s; }
.roster-category.is-visible .roster-card:nth-child(2) { transition-delay: 0.15s; }
.roster-category.is-visible .roster-card:nth-child(3) { transition-delay: 0.2s; }
.roster-category.is-visible .roster-card:nth-child(4) { transition-delay: 0.25s; }
.roster-category.is-visible .roster-card:nth-child(5) { transition-delay: 0.3s; }
.roster-category.is-visible .roster-card:nth-child(6) { transition-delay: 0.35s; }
.roster-category.is-visible .roster-card:nth-child(7) { transition-delay: 0.4s; }
.roster-category.is-visible .roster-card:nth-child(8) { transition-delay: 0.45s; }
/* Del 9 en adelante, cargan juntos para no hacer esperar demasiado al usuario */
.roster-category.is-visible .roster-card:nth-child(n+9) { transition-delay: 0.5s; }

/* -----------------------------------------------------------------------------
   5. MARQUEE (TeamMarquee.astro)
   ----------------------------------------------------------------------------- */
/* El marquee en sí ya se mueve, solo necesitamos que la sección entre suave */
.team-marquee-section {
    /* Usa la animación base .scroll-animate, no necesita overrides complejos 
       para no romper el scroll infinito interno */
}

/* -----------------------------------------------------------------------------
   6. OPTIMIZACIÓN - ACCESIBILIDAD
   ----------------------------------------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    *, .scroll-animate, .roster-card, .origins-text {
        animation: none !important;
        transition: none !important;
        opacity: 1 !important;
        transform: none !important;
        transition-delay: 0s !important;
    }
}